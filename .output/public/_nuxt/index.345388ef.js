import{_ as V}from"./ErrorAlert.e56a56d9.js";import{x as _,u as b,r as l,i as x,_ as F,k as N,a as t,w as o,D as v,F as y,o as E,b as h,V as i,s as B,l as w,e as m,d}from"./entry.26e0f55e.js";import{u as $}from"./useMyFetch.c7da1f4b.js";import{u as k}from"./auth.d560fba5.js";import{V as R}from"./VForm.82fb9e0d.js";import{V as S}from"./VTextField.dc9b27e5.js";import"./VSnackbar.1da83577.js";import"./VOverlay.1a61fd31.js";import"./easing.9f15041e.js";import"./lazy.54b8b11e.js";import"./index.7aba734a.js";import"./forwardRefs.e2994a01.js";import"./cookie.8aa2c3a6.js";import"./VField.de963f4c.js";import"./index.4548580c.js";import"./VInput.46c0eb00.js";const M=_({name:"login",setup(){const u=b(),s=k(),a=l(""),c=l(null),p=l(!1),r=l(!1),f=e=>{r.value=e},n=e=>(e==null?void 0:e.length)===11&&/[0-9-]+/.test(e)&&/^09\d{9}$/.test(e),g=l([e=>n(e)||"شماره تلفن را به درستی وارد کنید"]),A=async()=>{const{valid:e}=await c.value.validate();if(e)try{const C=await $(`/send-sms?phoneNumber=${a.value}`,p,r,"get");r.value||(u.push("/confirm"),s.PhoneNumber=a.value)}catch(C){r.value=!0,console.error("Error fetching data:",C)}};return x(()=>{a.value=s.PhoneNumberGet}),{phoneSubmit:A,rules:g,phoneNum:a,formRef:c,error:r,loading:p,phoneNumValid:n,updateErrorAlert:f}}}),U=d("p",null,"شماره تلفن همراه خود را وارد کنید",-1),j=d("p",{style:{direction:"rtl"},class:"text"},[m(" با ورود و یا ثبت نام در آسیاسلامت "),d("a",{class:"text-teal-accent-4"},"قوانین و مقررات"),m(" استفاده از پلتفرم آسیاسلامت و همچنین قوانین مربوط به "),d("a",{class:"text-teal-accent-4"},"حریم خصوصی"),m(" را می پذیرید. ")],-1);function D(u,s,a,c,p,r){const f=V;return E(),N(y,null,[t(f,{errorActive:u.error,"onUpdate:errorActive":u.updateErrorAlert},null,8,["errorActive","onUpdate:errorActive"]),t(R,{class:"text-right login text-title",onSubmit:v(u.phoneSubmit,["prevent"]),ref:"formRef"},{default:o(()=>[t(h,{class:"mt-7 px-3 py-1 d-flex justify-center","no-gutters":""},{default:o(()=>[t(i,{xl:"7",lg:"7",md:"8",sm:"10",xs:"12",cols:"12"},{default:o(()=>[U]),_:1}),t(i,{class:"mt-5",xl:"7",lg:"7",md:"8",sm:"10",xs:"12",cols:"12"},{default:o(()=>[t(S,{variant:"underlined","prepend-inner-icon":"mdi-cellphone",label:"تلفن همراه",color:"teal-accent-4",placeholder:"09121111111",class:"align",loading:u.loading,modelValue:u.phoneNum,"onUpdate:modelValue":s[0]||(s[0]=n=>u.phoneNum=n),type:"tel",rules:u.rules},null,8,["loading","modelValue","rules"])]),_:1}),t(i,{class:"mt-5",xl:"7",lg:"7",md:"8",sm:"10",xs:"12",cols:"12"},{default:o(()=>[j]),_:1})]),_:1}),t(B,{class:"submit-btn"},{default:o(()=>[t(h,{class:"d-flex justify-center"},{default:o(()=>[t(i,{xl:"7",lg:"7",md:"8",sm:"10",xs:"12",cols:"12"},{default:o(()=>[t(w,{color:"teal-accent-4",disabled:!u.phoneNumValid(u.phoneNum)||u.error,block:"",loading:u.loading,type:"submit"},{default:o(()=>[m("ورود/ثبت نام")]),_:1},8,["disabled","loading"])]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"])],64)}const uu=F(M,[["render",D]]);export{uu as default};
