import{r as p,ak as l,aT as m,aH as w,j as y,cy as h,bi as g}from"./entry.26e0f55e.js";const u=/^[\u0009\u0020-\u007E\u0080-\u00FF]+$/;function x(e,n){if(typeof e!="string")throw new TypeError("argument str must be a string");const o={},s=(n||{}).decode||b;let a=0;for(;a<e.length;){const t=e.indexOf("=",a);if(t===-1)break;let r=e.indexOf(";",a);if(r===-1)r=e.length;else if(r<t){a=e.lastIndexOf(";",t-1)+1;continue}const c=e.slice(a,t).trim();if(o[c]===void 0){let d=e.slice(t+1,r).trim();d.codePointAt(0)===34&&(d=d.slice(1,-1)),o[c]=S(d,s)}a=r+1}return o}function f(e,n,o){const i=o||{},s=i.encode||C;if(typeof s!="function")throw new TypeError("option encode is invalid");if(!u.test(e))throw new TypeError("argument name is invalid");const a=s(n);if(a&&!u.test(a))throw new TypeError("argument val is invalid");let t=e+"="+a;if(i.maxAge!==void 0&&i.maxAge!==null){const r=i.maxAge-0;if(Number.isNaN(r)||!Number.isFinite(r))throw new TypeError("option maxAge is invalid");t+="; Max-Age="+Math.floor(r)}if(i.domain){if(!u.test(i.domain))throw new TypeError("option domain is invalid");t+="; Domain="+i.domain}if(i.path){if(!u.test(i.path))throw new TypeError("option path is invalid");t+="; Path="+i.path}if(i.expires){if(!k(i.expires)||Number.isNaN(i.expires.valueOf()))throw new TypeError("option expires is invalid");t+="; Expires="+i.expires.toUTCString()}if(i.httpOnly&&(t+="; HttpOnly"),i.secure&&(t+="; Secure"),i.priority)switch(typeof i.priority=="string"?i.priority.toLowerCase():i.priority){case"low":t+="; Priority=Low";break;case"medium":t+="; Priority=Medium";break;case"high":t+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(i.sameSite)switch(typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite){case!0:t+="; SameSite=Strict";break;case"lax":t+="; SameSite=Lax";break;case"strict":t+="; SameSite=Strict";break;case"none":t+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return t}function k(e){return Object.prototype.toString.call(e)==="[object Date]"||e instanceof Date}function S(e,n){try{return n(e)}catch{return e}}function b(e){return e.includes("%")?decodeURIComponent(e):e}function C(e){return encodeURIComponent(e)}const E={path:"/",watch:!0,decode:e=>h(decodeURIComponent(e)),encode:e=>encodeURIComponent(typeof e=="string"?e:JSON.stringify(e))};function I(e,n){var a;const o={...E,...n},i=T(o)||{},s=p(i[e]??((a=o.default)==null?void 0:a.call(o)));{const t=typeof BroadcastChannel>"u"?null:new BroadcastChannel(`nuxt:cookies:${e}`);l()&&m(()=>{t==null||t.close()});const r=()=>{N(e,s.value,o),t==null||t.postMessage(g(s.value))};let c=!1;t&&(t.onmessage=d=>{c=!0,s.value=d.data,w(()=>{c=!1})}),o.watch?y(s,()=>{c||r()},{deep:o.watch!=="shallow"}):r()}return s}function T(e={}){return x(document.cookie,e)}function v(e,n,o={}){return n==null?f(e,n,{...o,maxAge:-1}):f(e,n,o)}function N(e,n,o={}){document.cookie=v(e,n,o)}export{I as u};
