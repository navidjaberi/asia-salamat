import{m as ke,u as we,a as pe,b as Ce,c as Se,d as ee,e as xe}from"./VSelect.620a6f69.js";import{m as Me,V as le}from"./VTextField.dc9b27e5.js";import{bM as ue,r as K,h as A,B as H,bC as Ie,cl as Y,cL as _e,bS as Ae,bT as Pe,c5 as Le,bc as E,bU as W,c6 as De,j as X,aH as te,cM as Ke,b_ as Re,a as i,F as $,aG as z,f as ae,c0 as Te,e as Oe,cN as Ee,cO as ne}from"./entry.26e0f55e.js";import{u as je}from"./VForm.82fb9e0d.js";import{f as Be}from"./forwardRefs.e2994a01.js";import{m as Ne}from"./index.7aba734a.js";import{V as Ue}from"./VCheckboxBtn.91aa5866.js";import{V as He}from"./VChip.342a6faf.js";const nl={"آذربایجان شرقی":["آذرشهر","اهر","بناب","تبریز","سراب","سهند","مراغه","مرند","میانه"],"آذربایجان غربی":["ارومیه","اشنویه","بوکان","پیرانشهر","خوی","سردشت","سلماس","شاهین دژ","ماکو","مهاباد","میاندوآب","نقده"],اردبیل:["اردبیل","پارس‌آباد","خلخال","سرعین","گرمی","مشکین‌شهر","نمین"],اصفهان:["آران و بیدگل","ابریشم","اصفهان","خمینی‌شهر","خوانسار","خور","داران","سمیرم","شاهین‌شهر","فلاورجان","فولادشهر","قمصر","کاشان","گلپایگان","لنجان","مبارکه","نجف‌آباد"],البرز:["آسارا","اشتهارد","تنکمان","چهارباغ","طالقان","فردیس","کرج","کوهسار","گرمدره","ماهدشت","محمدشهر","نظرآباد","هشتگرد"],ایلام:["آبدانان","ایلام","ایوان","دهلران","مهران"],بوشهر:["برازجان","بندر دیر","بندر کنگان","بندر گناوه","بوشهر","جم","خورموج"],تهران:["آبسرد","آبعلی","ارجمند","اسلام‌شهر","اندیشه","باقرشهر","بومهن","پاکدشت","پردیس","پرند","پیشوا","تهران","جوادآباد","چهاردانگه","دماوند","رباط‌کریم","رودهن","ری","شاهدشهر","شمشک","شهریار","صباشهر","صفادشت","فردوسیه","فشم","فیروزکوه","قدس","قرچک","کهریزک","کیلان","گلستان","لواسان","نسیم‌شهر","وحیدیه","ورامین"],"چهارمحال و بختیاری":["بروجن","سامان","شهرکرد","فرخ‌شهر","لردگان"],"خراسان جنوبی":["بیرجند","طبس","فردوس","قاين"],"خراسان رضوی":["بردسکن","تایباد","تربت جام","تربت‌حیدریه","چناران","خواف","سبزوار","شاندیز","طرقبه","قاسم‌آباد (خواف)","قوچان","گلبهار","گناباد","مشهد","ملک‌آباد","نیشابور"],"خراسان شمالی":["آشخانه","اسفراین","بجنورد","شیروان"],خوزستان:["آبادان","امیدیه","اندیمشک","اهواز","ایذه","بندر امام خمینی","بندر ماهشهر","بهبهان","چمران","حمیدیه","خرمشهر","دزفول","رامشیر","رامهرمز","سوسنگرد","شادگان","شوش","شوشتر","مسجد سلیمان","هندیجان"],زنجان:["ابهر","خرمدره","زنجان","قیدار"],سمنان:["دامغان","سمنان","شاهرود","گرمسار"],"سیستان و بلوچستان":["ایرانشهر","چابهار","خاش","زابل","زاهدان","زهک","سراوان-سیستان و بلوچستان","کنارک"],فارس:["آباده","اقلید","جهرم","خور","داراب","زرقان","شیراز","صدرا-فارس","فسا","فیروزآباد","کازرون","لار","لامرد","مرودشت","مهر","نورآباد ممسنی","نی‌ریز"],قزوین:["آبیک","اقبالیه","الوند","تاکستان","شال","قزوین","محمدیه-قزوین"],قم:["قم"],کردستان:["بانه","بیجار","دهگلان","سقز","سنندج","قروه","کامیاران","مریوان"],کرمان:["بافت","بردسیر","بلوک","بم","جیرفت","رفسنجان","زرند","سیرجان","کرمان","کهنوج","ماهان"],کرمانشاه:["اسلام‌‌آباد غرب","بیستون","جوانرود","سرپل ذهاب","سنقر","صحنه","کرمانشاه","کنگاور","گهواره","هرسین"],"کهگیلویه و بویراحمد":["دوگنبدان","دهدشت","سی‌سخت","یاسوج"],گلستان:["آق قلا","بندر ترکمن","علی‌آباد کتول","کردکوی","کلاله","گالیکش","گرگان","گمیشان","گنبد کاووس","مینودشت"],گیلان:["آستارا","آستانه اشرفیه","احمدسرگوراب","اسالم","املش","بره‌سر","بندر انزلی","پره‌سر","تالش","توتکابن","جیرنده","چابکسر","چاف و چمخاله","چوبر","حویق","خشکبیجار","خمام","دیلمان","رانکوه","رحیم‌آباد","رستم‌آباد","رشت","رضوانشهر","رودبار","رودبنه","رودسر","زیباکنار","سنگر","سیاهکل","شفت","شلمان","صومعه‌سرا","فومن","کلاچای","کوچصفهان","کومله","کیاشهر","گوراب زرمیخ","لاهیجان","لشت نشا","لنگرود","لوشان","لولمان","لوندویل","لیسار","ماسال","ماسوله","ماکلوان","منجیل"],لرستان:["ازنا","الشتر","الیگودرز","بروجرد","پلدختر","خرم‌آباد","دورود","کوهدشت","نورآباد"],مازندران:["آلاشت","آمل","امیرکلا","ایزدشهر","بابل","بابلسر","بلده","بهشهر","بهنمیر","پل سفید","تنکابن","جویبار","چالوس","چمستان","خلیل شهر","خوش‌رودپی","رامسر","رستمکلا","رویان","رینه","زیرآب","ساری","سرخرود","سلمان‌شهر","سورک","شیرگاه","عباس‌آباد","فرح آباد","فریدون‌کنار","فریم","قائم‌شهر","کتالم و سادات شهر","کلارآباد","کلاردشت","کوهی‌خیل","کیاسر","کیاکلا","گتاب","گزنک","گلوگاه","محمودآباد","مرزن‌آباد","مرزیکلا","نشتارود","نکا","نور","نوشهر"],مرکزی:["اراک","خمین","دلیجان","ساوه","شازند","محلات","مهاجران"],هرمزگان:["بندرعباس","تخت","درگهان","قشم","کیش","میناب","هرمز"],همدان:["اسدآباد","بهار","تویسرکان","کبودراهنگ","ملایر","نهاوند","همدان"],یزد:["اردکان","بافق","تفت","حمیدیا","مهریز","میبد","یزد"]};const ze=(e,r,l)=>e==null||r==null?-1:e.toString().toLocaleLowerCase().indexOf(r.toString().toLocaleLowerCase()),$e=ue({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function Ge(e,r,l){var C;const F=[],v=(l==null?void 0:l.default)??ze,h=l!=null&&l.filterKeys?Y(l.filterKeys):!1,V=Object.keys((l==null?void 0:l.customKeyFilter)??{}).length;if(!(e!=null&&e.length))return F;e:for(let d=0;d<e.length;d++){const[w,S=w]=Y(e[d]),c={},a={};let g=-1;if(r&&!(l!=null&&l.noFilter)){if(typeof w=="object"){const R=h||Object.keys(S);for(const M of R){const j=_e(S,M,S),T=(C=l==null?void 0:l.customKeyFilter)==null?void 0:C[M];if(g=T?T(j,r,w):v(j,r,w),g!==-1&&g!==!1)T?c[M]=g:a[M]=g;else if((l==null?void 0:l.filterMode)==="every")continue e}}else g=v(w,r,w),g!==-1&&g!==!1&&(a.title=g);const _=Object.keys(a).length,x=Object.keys(c).length;if(!_&&!x||(l==null?void 0:l.filterMode)==="union"&&x!==V&&!_||(l==null?void 0:l.filterMode)==="intersection"&&(x!==V||!_))continue}F.push({index:d,matches:{...a,...c}})}return F}function Je(e,r,l,F){const v=K([]),h=K(new Map),V=A(()=>F!=null&&F.transform?H(r).map(d=>[d,F.transform(d)]):H(r));Ie(()=>{const d=typeof l=="function"?l():H(l),w=typeof d!="string"&&typeof d!="number"?"":String(d),S=Ge(V.value,w,{customKeyFilter:e.customKeyFilter,default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),c=H(r),a=[],g=new Map;S.forEach(_=>{let{index:x,matches:R}=_;const M=c[x];a.push(M),g.set(M.value,R)}),v.value=a,h.value=g});function C(d){return h.value.get(d.value)}return{filteredItems:v,filteredMatches:h,getMatches:C}}function Qe(e,r,l){if(r==null)return e;if(Array.isArray(r))throw new Error("Multiple matches is not implemented");return typeof r=="number"&&~r?i($,null,[i("span",{class:"v-autocomplete__unmask"},[e.substr(0,r)]),i("span",{class:"v-autocomplete__mask"},[e.substr(r,l)]),i("span",{class:"v-autocomplete__unmask"},[e.substr(r+l)])]):e}const We=ue({autoSelectFirst:{type:[Boolean,String]},search:String,...$e({filterKeys:["title"]}),...ke(),...Ae(Me({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...Ne({transition:!1})},"VAutocomplete"),ul=Pe()({name:"VAutocomplete",props:We(),emits:{"update:focused":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,r){let{slots:l}=r;const{t:F}=Le(),v=K(),h=E(!1),V=E(!0),C=E(!1),d=K(),w=K(),S=W(e,"menu"),c=A({get:()=>S.value,set:t=>{var n;S.value&&!t&&((n=d.value)!=null&&n.ΨopenChildren)||(S.value=t)}}),a=E(-1),g=A(()=>{var t;return(t=v.value)==null?void 0:t.color}),_=A(()=>c.value?e.closeText:e.openText),{items:x,transformIn:R,transformOut:M}=we(e),{textColorClasses:j,textColorStyles:T}=De(g),m=W(e,"search",""),o=W(e,"modelValue",[],t=>R(t===null?[null]:Y(t)),t=>{const n=M(t);return e.multiple?n:n[0]??null}),L=je(),{filteredItems:G,getMatches:oe}=Je(e,x,()=>V.value?"":m.value),I=A(()=>e.hideSelected?G.value.filter(t=>!o.value.some(n=>n.value===t.value)):G.value),ce=A(()=>o.value.map(t=>t.props.value)),B=A(()=>{var n;return(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&m.value===((n=I.value[0])==null?void 0:n.title))&&I.value.length>0&&!V.value&&!C.value}),J=A(()=>e.hideNoData&&!x.value.length||e.readonly||(L==null?void 0:L.isReadonly.value)),Q=K(),{onListScroll:re,onListKeydown:ie}=pe(Q,v);function se(t){e.openOnClear&&(c.value=!0),m.value=""}function fe(){J.value||(c.value=!0)}function ve(t){J.value||(h.value&&(t.preventDefault(),t.stopPropagation()),c.value=!c.value)}function de(t){var D,u,y;if(e.readonly||L!=null&&L.isReadonly.value)return;const n=v.value.selectionStart,s=o.value.length;if((a.value>-1||["Enter","ArrowDown","ArrowUp"].includes(t.key))&&t.preventDefault(),["Enter","ArrowDown"].includes(t.key)&&(c.value=!0),["Escape"].includes(t.key)&&(c.value=!1),B.value&&["Enter","Tab"].includes(t.key)&&P(I.value[0]),t.key==="ArrowDown"&&B.value&&((D=Q.value)==null||D.focus("next")),!!e.multiple){if(["Backspace","Delete"].includes(t.key)){if(a.value<0){t.key==="Backspace"&&!m.value&&(a.value=s-1);return}const f=a.value,p=o.value[a.value];p&&!p.props.disabled&&P(p),a.value=f>=s-1?s-2:f}if(t.key==="ArrowLeft"){if(a.value<0&&n>0)return;const f=a.value>-1?a.value-1:s-1;o.value[f]?a.value=f:(a.value=-1,v.value.setSelectionRange((u=m.value)==null?void 0:u.length,(y=m.value)==null?void 0:y.length))}if(t.key==="ArrowRight"){if(a.value<0)return;const f=a.value+1;o.value[f]?a.value=f:(a.value=-1,v.value.setSelectionRange(0,0))}}}function me(t){m.value=t.target.value}function he(t){if(ne(v.value,":autofill")||ne(v.value,":-webkit-autofill")){const n=x.value.find(s=>s.title===t.target.value);n&&P(n)}}function ge(){var t;h.value&&(V.value=!0,(t=v.value)==null||t.focus())}function ye(t){h.value=!0,setTimeout(()=>{C.value=!0})}function Ve(t){C.value=!1}function Fe(t){(t==null||t===""&&!e.multiple)&&(o.value=[])}const O=E(!1);function P(t){if(e.multiple){const n=o.value.findIndex(s=>e.valueComparator(s.value,t.value));if(n===-1)o.value=[...o.value,t];else{const s=[...o.value];s.splice(n,1),o.value=s}}else o.value=[t],O.value=!0,m.value=t.title,c.value=!1,V.value=!0,te(()=>O.value=!1)}return X(h,(t,n)=>{var s;t!==n&&(t?(O.value=!0,m.value=e.multiple?"":String(((s=o.value.at(-1))==null?void 0:s.props.title)??""),V.value=!0,te(()=>O.value=!1)):(!e.multiple&&!m.value?o.value=[]:B.value&&!C.value&&!o.value.some(D=>{let{value:u}=D;return u===I.value[0].value})&&P(I.value[0]),c.value=!1,m.value="",a.value=-1))}),X(m,t=>{!h.value||O.value||(t&&(c.value=!0),V.value=!t)}),X(c,()=>{if(!e.hideSelected&&c.value&&o.value.length){const t=I.value.findIndex(n=>o.value.some(s=>n.value===s.value));Ke&&window.requestAnimationFrame(()=>{var n;t>=0&&((n=w.value)==null||n.scrollToIndex(t))})}}),Re(()=>{const t=!!(e.chips||l.chip),n=!!(!e.hideNoData||I.value.length||l["prepend-item"]||l["append-item"]||l["no-data"]),s=o.value.length>0,[D]=le.filterProps(e);return i(le,z({ref:v},D,{modelValue:m.value,"onUpdate:modelValue":Fe,focused:h.value,"onUpdate:focused":u=>h.value=u,validationValue:o.externalValue,counterValue:o.value.length,dirty:s,onInput:me,onChange:he,class:["v-autocomplete",`v-autocomplete--${e.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":c.value,"v-autocomplete--chips":!!e.chips,"v-autocomplete--selection-slot":!!l.selection,"v-autocomplete--selecting-index":a.value>-1},e.class],style:e.style,readonly:e.readonly,placeholder:s?void 0:e.placeholder,"onClick:clear":se,"onMousedown:control":fe,onKeydown:de}),{...l,default:()=>i($,null,[i(Ce,z({ref:d,modelValue:c.value,"onUpdate:modelValue":u=>c.value=u,activator:"parent",contentClass:"v-autocomplete__content",disabled:J.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:ge},e.menuProps),{default:()=>[n&&i(Se,{ref:Q,selected:ce.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:u=>u.preventDefault(),onKeydown:ie,onFocusin:ye,onFocusout:Ve,onScrollPassive:re,tabindex:"-1",color:e.itemColor??e.color},{default:()=>{var u,y,f;return[(u=l["prepend-item"])==null?void 0:u.call(l),!I.value.length&&!e.hideNoData&&(((y=l["no-data"])==null?void 0:y.call(l))??i(ee,{title:F(e.noDataText)},null)),i(xe,{ref:w,renderless:!0,items:I.value},{default:p=>{var q;let{item:b,index:k,itemRef:be}=p;const Z=z(b.props,{ref:be,key:k,active:B.value&&k===0?!0:void 0,onClick:()=>P(b)});return((q=l.item)==null?void 0:q.call(l,{item:b,index:k,props:Z}))??i(ee,Z,{prepend:N=>{let{isSelected:U}=N;return i($,null,[e.multiple&&!e.hideSelected?i(Ue,{key:b.value,modelValue:U,ripple:!1,tabindex:"-1"},null):void 0,b.props.prependIcon&&i(ae,{icon:b.props.prependIcon},null)])},title:()=>{var N,U;return V.value?b.title:Qe(b.title,(N=oe(b))==null?void 0:N.title,((U=m.value)==null?void 0:U.length)??0)}})}}),(f=l["append-item"])==null?void 0:f.call(l)]}})]}),o.value.map((u,y)=>{var b;function f(k){k.stopPropagation(),k.preventDefault(),P(u)}const p={"onClick:close":f,onMousedown(k){k.preventDefault(),k.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0};return i("div",{key:u.value,class:["v-autocomplete__selection",y===a.value&&["v-autocomplete__selection--selected",j.value]],style:y===a.value?T.value:{}},[t?l.chip?i(Te,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:u.title}}},{default:()=>{var k;return[(k=l.chip)==null?void 0:k.call(l,{item:u,index:y,props:p})]}}):i(He,z({key:"chip",closable:e.closableChips,size:"small",text:u.title,disabled:u.props.disabled},p),null):((b=l.selection)==null?void 0:b.call(l,{item:u,index:y}))??i("span",{class:"v-autocomplete__selection-text"},[u.title,e.multiple&&y<o.value.length-1&&i("span",{class:"v-autocomplete__selection-comma"},[Oe(",")])])])})]),"append-inner":function(){var p;for(var u=arguments.length,y=new Array(u),f=0;f<u;f++)y[f]=arguments[f];return i($,null,[(p=l["append-inner"])==null?void 0:p.call(l,...y),e.menuIcon?i(ae,{class:"v-autocomplete__menu-icon",icon:e.menuIcon,onMousedown:ve,onClick:Ee,"aria-label":F(_.value),title:F(_.value)},null):void 0])}})}),Be({isFocused:h,isPristine:V,menu:c,search:m,filteredItems:G,select:P},v)}});export{ul as V,nl as c};
