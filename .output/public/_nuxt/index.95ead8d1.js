import{_ as k}from"./LoadingAndError.71246b88.js";import{_ as v}from"./nuxt-link.2f14b1a1.js";import{_ as V}from"./PageBaseLayout.c72097e2.js";import{q as A,r as m,h as x,_ as B,u as D,i as w,k as _,a as o,w as r,o as p,V as g,F as R,n as C,d as b,c as H,b as I,v as L,t as M}from"./entry.26e0f55e.js";import{u as y}from"./useMyFetch.c7da1f4b.js";import{V as F}from"./VApp.dbfd8bb3.js";import{V as N}from"./VSnackbar.1da83577.js";import{V as P}from"./VCard.5845edb6.js";import{V as h}from"./VImg.e043ba4f.js";import"./VAlert.ba30a257.js";import"./createSimpleFunctional.17b0ee17.js";import"./VForm.82fb9e0d.js";import"./forwardRefs.e2994a01.js";import"./auth.d560fba5.js";import"./cookie.8aa2c3a6.js";import"./index.4548580c.js";import"./VOverlay.1a61fd31.js";import"./easing.9f15041e.js";import"./lazy.54b8b11e.js";import"./index.7aba734a.js";import"./VAvatar.c6243a7c.js";const S=A("academy",()=>{const n=m([]),s=m();return{academyData:x(()=>n.value),academy:n,getAcademyData:async(c,l)=>{try{const e=await y("/Class",c,l,"get",{cache:"force-cache"});n.value=e}catch(e){l.value=!0,console.error("Error fetching data:",e)}await Promise.all(n.value.map(async e=>{try{const a=await y(`/uploads/${e.ImageName}`,c,l,"get");s.value=a}catch(a){console.log(a),l.value=!0}const i=new Blob([s.value],{type:"image/jpeg"}),d=new FileReader;d.onload=()=>{e.image=d.result},d.readAsDataURL(i),e.Id==="b62d9525-061c-4abc-5343-08db7bc9dafa"?e.link="academy/educational-services":e.Id==="d4f1ac2a-53b8-4b50-a913-08db8052b649"?e.link="academy/health-safety":e.disable=!0}))}}}),E={setup(){const n=D(),s=S(),u=m(!1),t=x(()=>s.academyData),c=m(!1),l=m(!1),e=f=>{f.disable&&(u.value=!0)},i=()=>{s.getAcademyData(c,l)},d=()=>{l.value=!1,c.value=!1,i()},a=()=>{n.push("/home")};return w(()=>{i()}),{routBackHandler:a,academyMenu:t,loading:c,openAlert:u,disableAlert:e,error:l,reloadHandler:d}}},j=b("p",{class:"text text-center"},"کلاس مورد نظر به زودی به لیست کلاس ها اضافه خواهد شد",-1),T={class:"text-center my-3",style:{"font-size":"0.7rem"}};function U(n,s,u,t,c,l){const e=k,i=v,d=V;return p(),_("div",null,[o(F,null,{default:r(()=>[o(d,{title:"آموزشگاه",subPagesMode:!0,onBaseRouteBackHandler:t.routBackHandler},{default:r(()=>[o(e,{loading:t.loading,error:t.error,postData:!1,onReload:t.reloadHandler},null,8,["loading","error","onReload"]),o(N,{timeout:2e3,color:"teal-accent-4",rounded:"pill",location:"top",modelValue:t.openAlert,"onUpdate:modelValue":s[0]||(s[0]=a=>t.openAlert=a)},{activator:r(({props:a})=>[]),default:r(()=>[j]),_:1},8,["modelValue"]),o(g,{class:"pa-0 d-flex flex-wrap"},{default:r(()=>[(p(!0),_(R,null,C(t.academyMenu,a=>(p(),H(g,{cols:"6",xxl:"2",xl:"2",lg:"3",md:"3",key:a.Id,class:"pa-2"},{default:r(()=>[o(i,{to:a.disable?"":a.link,onClick:f=>t.disableAlert(a)},{default:r(()=>[o(P,{class:"mx-auto mt-4",link:"",rounded:"",elevated:""},{default:r(()=>[o(h,{src:a.image,class:"mx-auto",alt:a.Title,"aspect-ratio":"1",cover:""},{placeholder:r(()=>[o(I,{class:"fill-height ma-0",align:"center",justify:"center"},{default:r(()=>[o(L,{indeterminate:"",color:"grey-lighten-5"})]),_:1})]),error:r(()=>[o(h,{class:"mx-auto",height:"300","max-width":"500",src:"https://picsum.photos/500/300?image=232"})]),_:2},1032,["src","alt"]),b("p",T,M(a.Title),1)]),_:2},1024)]),_:2},1032,["to","onClick"])]),_:2},1024))),128))]),_:1})]),_:1},8,["onBaseRouteBackHandler"])]),_:1})])}const da=B(E,[["render",U]]);export{da as default};
